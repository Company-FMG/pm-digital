import { useState } from "react";
import carro from "../../assets/carro.svg"

export default function InfoViatura({
    idViatura,
    placa,
    responsavel,
    efetivos,
    areaAtuacao,
  }: {
    idViatura: string,
    placa: string,
    responsavel: string,
    efetivos: string[],
    areaAtuacao: string
  }) {

    const [showMore, setShowMore] = useState(false);

    function handleMoreClick() {
        setShowMore(!showMore);
    }

    const placaViatura = localStorage.getItem("placaViatura");
    const isViaturaSelecionada = placaViatura && placaViatura !== "null";

    return (
        <>
            {isViaturaSelecionada ? 
                <button onClick={handleMoreClick} className="flex flex-col bg-bluemike w-full p-6 rounded-sm justify-between">
                    <div className="flex flex-row items-center gap-4">
                        <svg className="fill-white w-12" viewBox="0 0 33 31" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd" d="M13.9859 0.223511V2.83221H19.0563V0.223511L22.0986 0.310467C25.1831 0.440902 25.1831 0.440902 25.3099 1.74525C25.3944 2.52786 25.9859 3.48438 26.7042 4.13655C27.5493 4.91916 28.3099 6.4409 29.2817 9.35394C30.0845 11.6148 31.2254 14.1366 31.8592 14.8757C33 16.3105 33 16.3974 33 22.4844C33 27.7887 32.8732 28.8322 32.2394 29.4844C31.8592 29.9192 31.0563 30.2235 30.4648 30.2235C29.8732 30.2235 29.0704 29.8757 28.6479 29.4409C28.2253 29.0496 27.8873 28.18 27.9296 26.3105H5.11268V27.4844C5.11268 28.18 4.77465 29.0496 4.35211 29.4844C3.97183 29.9192 3.16901 30.2235 2.57746 30.2235C1.98592 30.2235 1.1831 29.8757 0.760563 29.4409C0.126761 28.7887 0 27.8757 0 22.6148C0 16.6148 0.0422536 16.4844 1.1831 14.9626C1.8169 14.1366 3.04225 11.4844 3.84507 9.13655C4.94366 6.00612 5.61972 4.61482 6.50704 3.96264C7.30986 3.31047 7.64789 2.70177 7.60563 1.91916C7.56338 1.31047 7.64789 0.658293 7.85916 0.527859C8.07042 0.353946 9.50704 0.223511 13.9859 0.223511ZM6.80282 9.00612C6.33803 10.5279 5.95775 11.8322 5.95775 11.9626C5.95775 12.0931 10.6901 12.18 16.5211 12.18C22.3099 12.18 27.0845 12.0931 27.0845 11.9626C27.0845 11.8322 26.7042 10.5279 26.2394 9.00612C25.6056 6.96264 25.1408 6.22351 24.338 5.87568C23.7465 5.61481 20.1972 5.4409 16.3944 5.48438C12.6338 5.48438 9.12676 5.65829 8.57747 5.91916C7.94366 6.18003 7.39437 7.09308 6.80282 9.00612ZM3.92958 19.5713C4.14085 19.9192 4.64789 20.3974 5.11268 20.6583C5.78873 21.0061 6.12676 20.9192 6.80282 20.2235C7.56338 19.4409 7.56338 19.2235 7.05634 18.3539C6.76056 17.8322 6.21127 17.3539 5.87324 17.267C5.53521 17.2235 4.90141 17.5279 4.43662 18.0496C3.92958 18.5713 3.76056 19.18 3.92958 19.5713ZM11.9577 19.1366C12.3803 19.6583 13.3944 19.8322 16.5211 19.8322C19.6479 19.8322 20.662 19.6583 21.0423 19.1366C21.4648 18.6148 21.4648 18.3539 21.0423 17.8322C20.662 17.267 19.6479 17.1366 16.4789 17.18C13.3521 17.18 12.2958 17.3539 11.9155 17.8322C11.5775 18.3105 11.5775 18.6583 11.9577 19.1366ZM25.4789 19.5713C25.6901 19.9192 26.1972 20.3974 26.662 20.6583C27.338 21.0061 27.6761 20.9192 28.3521 20.2235C29.1127 19.4409 29.1127 19.2235 28.6056 18.3539C28.3099 17.8322 27.7606 17.3539 27.4225 17.267C27.0845 17.2235 26.4507 17.5279 25.9859 18.0496C25.4789 18.5713 25.3099 19.18 25.4789 19.5713Z" />
                        </svg>
                        <div className="flex flex-col font-poppins text-left">
                            <p className="text-white">Viatura atual:</p>
                            <p className="text-white font-bold text-xl tracking-widest uppercase">{placaViatura}</p>
                        </div>
                    </div>
                    {showMore && (
                        <div className="flex flex-col w-full">
                            <div className="flex flex-col font-semibold text-left my-4 font-poppins text-sm text-white gap-3">
                                <p>Responsável: <span className="font-normal">{responsavel}</span></p>
                                <p>Efetivo: <span className="font-normal">{efetivos.join(", ")}</span></p>
                                <p>Área de atuação: <span className="font-normal">{areaAtuacao}</span></p>
                            </div>
                            <a href="/viaturas-disponiveis"><button className="w-full text-bluemike font-poppins bg-white p-4 rounded-lg font-bold">
                                Sair da viatura
                            </button>
                            </a>
                        </div>
                    )}
                </button>
                :
                <button className="flex flex-row items-center outline outline-2 outline-bluemike w-full p-6 rounded-sm justify-between">
                    <div className="flex flex-row gap-4 text-left items-center">
                        <svg className="fill-bluemike w-12" viewBox="0 0 33 31" xmlns="http://www.w3.org/2000/svg">
                            <path fillRule="evenodd" clipRule="evenodd" d="M13.9859 0.223511V2.83221H19.0563V0.223511L22.0986 0.310467C25.1831 0.440902 25.1831 0.440902 25.3099 1.74525C25.3944 2.52786 25.9859 3.48438 26.7042 4.13655C27.5493 4.91916 28.3099 6.4409 29.2817 9.35394C30.0845 11.6148 31.2254 14.1366 31.8592 14.8757C33 16.3105 33 16.3974 33 22.4844C33 27.7887 32.8732 28.8322 32.2394 29.4844C31.8592 29.9192 31.0563 30.2235 30.4648 30.2235C29.8732 30.2235 29.0704 29.8757 28.6479 29.4409C28.2253 29.0496 27.8873 28.18 27.9296 26.3105H5.11268V27.4844C5.11268 28.18 4.77465 29.0496 4.35211 29.4844C3.97183 29.9192 3.16901 30.2235 2.57746 30.2235C1.98592 30.2235 1.1831 29.8757 0.760563 29.4409C0.126761 28.7887 0 27.8757 0 22.6148C0 16.6148 0.0422536 16.4844 1.1831 14.9626C1.8169 14.1366 3.04225 11.4844 3.84507 9.13655C4.94366 6.00612 5.61972 4.61482 6.50704 3.96264C7.30986 3.31047 7.64789 2.70177 7.60563 1.91916C7.56338 1.31047 7.64789 0.658293 7.85916 0.527859C8.07042 0.353946 9.50704 0.223511 13.9859 0.223511ZM6.80282 9.00612C6.33803 10.5279 5.95775 11.8322 5.95775 11.9626C5.95775 12.0931 10.6901 12.18 16.5211 12.18C22.3099 12.18 27.0845 12.0931 27.0845 11.9626C27.0845 11.8322 26.7042 10.5279 26.2394 9.00612C25.6056 6.96264 25.1408 6.22351 24.338 5.87568C23.7465 5.61481 20.1972 5.4409 16.3944 5.48438C12.6338 5.48438 9.12676 5.65829 8.57747 5.91916C7.94366 6.18003 7.39437 7.09308 6.80282 9.00612ZM3.92958 19.5713C4.14085 19.9192 4.64789 20.3974 5.11268 20.6583C5.78873 21.0061 6.12676 20.9192 6.80282 20.2235C7.56338 19.4409 7.56338 19.2235 7.05634 18.3539C6.76056 17.8322 6.21127 17.3539 5.87324 17.267C5.53521 17.2235 4.90141 17.5279 4.43662 18.0496C3.92958 18.5713 3.76056 19.18 3.92958 19.5713ZM11.9577 19.1366C12.3803 19.6583 13.3944 19.8322 16.5211 19.8322C19.6479 19.8322 20.662 19.6583 21.0423 19.1366C21.4648 18.6148 21.4648 18.3539 21.0423 17.8322C20.662 17.267 19.6479 17.1366 16.4789 17.18C13.3521 17.18 12.2958 17.3539 11.9155 17.8322C11.5775 18.3105 11.5775 18.6583 11.9577 19.1366ZM25.4789 19.5713C25.6901 19.9192 26.1972 20.3974 26.662 20.6583C27.338 21.0061 27.6761 20.9192 28.3521 20.2235C29.1127 19.4409 29.1127 19.2235 28.6056 18.3539C28.3099 17.8322 27.7606 17.3539 27.4225 17.267C27.0845 17.2235 26.4507 17.5279 25.9859 18.0496C25.4789 18.5713 25.3099 19.18 25.4789 19.5713Z" />
                        </svg>
                        <p className="text-bluemike font-poppins text-md">Sem viatura no momento</p>
                    </div>
                    <svg className="fill-bluemike w-9 rotate-180" viewBox="0 0 29 27" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.29395 0.275949C2.48086 0.201994 2.8377 0.10691 3.08691 0.06465C3.46641 0.00126028 4.4293 -0.00930468 14.6416 0.00654275L14.9531 0.14917C15.1684 0.244254 15.3156 0.360469 15.4346 0.518943C15.5648 0.698547 15.6045 0.814762 15.6215 1.08945C15.6385 1.3747 15.6158 1.47507 15.5082 1.67052C15.4289 1.80258 15.259 1.98219 14.8852 2.22518L3.31348 2.27801L3.08691 2.39422C2.9623 2.45233 2.80371 2.56326 2.73574 2.63193C2.66777 2.69532 2.57148 2.84323 2.52617 2.94888C2.44687 3.12849 2.43555 4.25365 2.43555 13.5033C2.43555 22.7529 2.44687 23.8781 2.52617 24.0524C2.57148 24.1633 2.66777 24.3112 2.73574 24.3746C2.80371 24.4433 2.9623 24.5542 3.31348 24.7285L14.8852 24.7814L15.1287 24.9398C15.259 25.0244 15.4289 25.204 15.5082 25.336C15.6158 25.5315 15.6385 25.6318 15.6215 25.9171C15.6045 26.1918 15.5648 26.308 15.4346 26.4876C15.3156 26.6461 15.1684 26.7623 14.6416 27H8.97754C3.60801 27 3.29082 26.9947 2.86035 26.8996C2.61113 26.8468 2.20332 26.7042 1.9541 26.588C1.61992 26.4295 1.3877 26.271 1.07051 25.9752C0.747656 25.6688 0.589063 25.4628 0.407812 25.1247C0.277539 24.8764 0.130273 24.512 0.0849609 24.3059C0.0113281 23.989 0 22.4624 0 13.5033C0 4.54419 0.0113281 3.01755 0.0849609 2.70061C0.130273 2.49459 0.266211 2.14066 0.39082 1.90823C0.532422 1.63883 0.747656 1.35357 0.979883 1.11586C1.18379 0.909846 1.48398 0.666852 1.64824 0.57705C1.81816 0.481966 2.10703 0.344621 2.29395 0.275949Z" />
                        <path d="M19.7846 5.85953C19.8865 5.79085 20.0451 5.7169 20.1357 5.68521C20.2264 5.65879 20.4189 5.64295 20.5605 5.65351C20.7021 5.66408 20.9061 5.7169 21.0137 5.76444C21.1213 5.81727 22.9168 7.43371 25.0012 9.35124C27.2725 11.4484 28.8301 12.9222 28.8924 13.0384C28.9547 13.1546 29 13.3501 29 13.5033C29 13.6565 28.9547 13.8519 28.8924 13.9628C28.8301 14.0843 27.2725 15.5582 25.0012 17.6553C22.9168 19.5728 21.1213 21.1893 21.0137 21.2421C20.8834 21.3108 20.6965 21.3425 20.4756 21.3425C20.2717 21.3425 20.0678 21.3108 19.9658 21.2579C19.8752 21.2104 19.7223 21.1048 19.6316 21.0255C19.5467 20.941 19.4334 20.7984 19.3824 20.7139C19.3258 20.6188 19.2918 20.4339 19.2918 20.2384C19.2918 20.0535 19.3314 19.8528 19.3824 19.763C19.4334 19.6785 20.5152 18.6378 21.7896 17.4598C23.0584 16.2819 24.2592 15.1778 24.4518 15.0035C24.65 14.8345 24.7916 14.676 24.7803 14.6496C24.7633 14.6284 21.5574 14.6126 10.5635 14.6126L10.3143 14.4964C10.1727 14.4277 9.99141 14.2904 9.90644 14.19C9.81582 14.0896 9.71387 13.8942 9.67422 13.7515C9.61191 13.5508 9.61191 13.4557 9.67422 13.2497C9.71387 13.1124 9.81582 12.9169 9.90644 12.8165C9.99141 12.7162 10.1727 12.5788 10.5635 12.394H17.6605C21.5574 12.394 24.7633 12.3781 24.7689 12.3517C24.7803 12.3306 23.6305 11.2477 22.2088 9.9376C20.7871 8.63283 19.558 7.4654 19.473 7.34919C19.3824 7.23297 19.3031 7.03224 19.2861 6.90018C19.2691 6.76811 19.2805 6.57794 19.3145 6.47758C19.3484 6.37721 19.4277 6.21874 19.49 6.13422C19.5523 6.04441 19.6883 5.92292 19.7846 5.85953Z" />
                    </svg>
                </button>
            }
        </>
    );
}
